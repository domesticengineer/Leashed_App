<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leashed Pet Care</title>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f3f4f6;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      padding: 20px;
      margin-bottom: 20px;
    }
    h1, h2, h3 { color: #1f2937; }
    .btn {
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      border: none;
      font-size: 16px;
    }
    .btn-blue { background: #3b82f6; color: white; }
    .btn-blue:hover { background: #2563eb; }
    .btn-red { background: #ef4444; color: white; }
    .btn-red:hover { background: #dc2626; }
    .btn-green { background: #10b981; color: white; }
    .btn-green:hover { background: #059669; }
    .btn-yellow { background: #f59e0b; color: white; }
    .btn-yellow:hover { background: #d97706; }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      box-sizing: border-box;
    }
    .error { color: #ef4444; font-size: 14px; }
    .flex-between { display: flex; justify-content: space-between; align-items: center; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    ul { list-style: none; padding: 0; }
    li { padding: 10px 0; border-bottom: 1px solid #e5e7eb; }
    .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
    .tab { padding: 10px; cursor: pointer; border-bottom: 2px solid transparent; }
    .tab.active { border-bottom-color: #3b82f6; font-weight: bold; }
    @media (max-width: 768px) { .grid-2, .grid-3 { grid-template-columns: 1fr; } }
    .hidden { display: none; }
    #admin-calendar { max-height: 600px; overflow: auto; }
    #walker-calendar, #client-calendar { max-height: 400px; overflow: auto; }
    textarea { resize: vertical; max-height: 100px; }
    img.map { max-width: 100%; height: auto; }
  </style>
</head>
<body>
  <div id="login" class="container">
    <div class="card">
      <h1>Leashed Pet Care Login</h1>
      <div id="login-error" class="error hidden"></div>
      <div>
        <label for="username">Username</label>
        <input id="username" type="text" placeholder="Enter username" required>
      </div>
      <div>
        <label for="password">Password</label>
        <input id="password" type="password" placeholder="Enter password" required>
      </div>
      <button class="btn btn-blue" onclick="handleLogin()">Login</button>
      <button class="btn btn-yellow mt-2" onclick="requestPasswordReset()">Reset Password</button>
    </div>
  </div>
  <div id="reset-password" class="container hidden">
    <div class="card">
      <h1>Reset Password</h1>
      <div id="reset-error" class="error hidden"></div>
      <div>
        <label for="reset-username">Username</label>
        <input id="reset-username" type="text" placeholder="Enter username" required>
      </div>
      <div>
        <label for="reset-code">Reset Code</label>
        <input id="reset-code" type="text" placeholder="Enter reset code" required>
      </div>
      <div>
        <label for="new-password">New Password</label>
        <input id="new-password" type="password" placeholder="Enter new password" required>
      </div>
      <button class="btn btn-blue" onclick="completePasswordReset()">Submit</button>
      <button class="btn btn-red mt-2" onclick="showSection('login')">Cancel</button>
    </div>
  </div>
  <div id="admin" class="container hidden">
    <div class="flex-between">
      <h1>Admin Dashboard</h1>
      <button class="btn btn-red" onclick="handleLogout()">Logout</button>
    </div>
    <div class="grid-2">
      <div class="card">
        <h2>Create New User</h2>
        <div>
          <label for="new-firstname">First Name</label>
          <input id="new-firstname" type="text" placeholder="First Name" required>
        </div>
        <div>
          <label for="new-lastname">Last Name
